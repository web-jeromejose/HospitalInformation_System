@model OTEf.Core.Model.PreOperativeCheck


<div class="modal-dialog">
    <div class="modal-content">
        <div class="modal-header">
            <div class="row">
                <div class="col-xs-1" style="width: 10px;">
                    <span class="glyphicon glyphicon-tag" style="font-size: 25px; color: Green;"></span>
                </div>
                <div class="col-xs-5">
                    <h4 class="modal-title" id="myModalLabel" style="color: Green;">ITEM DETAIL</h4>
                </div>
                <div class="col-xs-6 pull-right">
                    <button class="btn btn-sm btn-success pull-right" data-dismiss="modal">
                        <span class="glyphicon glyphicon-off"></span>Close
                    </button>
                    <button id="btn-delete" class="btn btn-sm btn-success pull-right pull-right-margin">
                            <span class="glyphicon glyphicon-remove"></span>Delete
                    </button>

                    @{
                        AjaxOptions deleteopt = new AjaxOptions()
                        {
                            HttpMethod = "POST",
                            LoadingElementDuration = 1000,
                            OnSuccess = "DeleteSuccess()"
                        };
                    }

                    @using (Ajax.BeginForm("PreOperativeCheckDelete", "MasterFile", new { id = Model.Id }, deleteopt, new { id = "FormPreOperativeCheckDelete" })) { }

                    @{
                        AjaxOptions updateopt = new AjaxOptions()
                        {
                            HttpMethod = "GET",
                            LoadingElementDuration = 1000,
                            UpdateTargetId = "modalEntry",
                            InsertionMode = InsertionMode.Replace
                          
                        };
                    }

                    @using (Ajax.BeginForm("PreOperativeCheckUpdate", "MasterFile", new { id = Model.Id }, updateopt))
                    {
                        <button id="btn-update" class="btn btn-sm btn-success pull-right pull-right-margin">
                            <span class="glyphicon glyphicon-check"></span>Update
                        </button>
                    }
                </div>
            </div>

        </div>
        <div class="modal-body form-horizontal">
            <div class="form-group">
                <div class="col-md-12">
                    <label class="control-label">Name</label>
                    @Html.TextBoxFor(m => m.Name, new { @class = "form-control", @readonly = "readonly" })
                </div>
            </div>
        </div>
    </div>
</div>


<script type="text/javascript">

    $(document).ready(function() {
        $("#btn-delete").click(function () {
            swal({
                title: 'Confirmation',
                text: "Are you sure you want to delete this record?",
                type: "warning",
                showCancelButton: true,
                confirmButtonText: 'OK',
                closeOnConfirm: true,
                allowOutsideClick: false
            }, function (isConfirm) {
                if (isConfirm) {
                    $("#FormPreOperativeCheckDelete").submit();
                }
            });
        });
    });

    function DeleteSuccess() {
        $("#modalEntry").modal('hide');
        tblList.draw();
    };

</script>
